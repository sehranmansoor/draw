(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function Ft(s,t,n,e=o=>o){return s*e(.5-t*(.5-n))}function ce(s){return[-s[0],-s[1]]}function H(s,t){return[s[0]+t[0],s[1]+t[1]]}function G(s,t){return[s[0]-t[0],s[1]-t[1]]}function j(s,t){return[s[0]*t,s[1]*t]}function ue(s,t){return[s[0]/t,s[1]/t]}function tt(s){return[s[1],-s[0]]}function Gt(s,t){return s[0]*t[0]+s[1]*t[1]}function fe(s,t){return s[0]===t[0]&&s[1]===t[1]}function pe(s){return Math.hypot(s[0],s[1])}function de(s){return s[0]*s[0]+s[1]*s[1]}function qt(s,t){return de(G(s,t))}function Ut(s){return ue(s,pe(s))}function ge(s,t){return Math.hypot(s[1]-t[1],s[0]-t[0])}function et(s,t,n){let e=Math.sin(n),o=Math.cos(n),r=s[0]-t[0],i=s[1]-t[1],a=r*o-i*e,h=r*e+i*o;return[a+t[0],h+t[1]]}function $t(s,t,n){return H(s,j(G(t,s),n))}function jt(s,t,n){return H(s,j(t,n))}var{min:K,PI:be}=Math,Ht=.275,st=be+1e-4;function ye(s,t={}){let{size:n=16,smoothing:e=.5,thinning:o=.5,simulatePressure:r=!0,easing:i=v=>v,start:a={},end:h={},last:c=!1}=t,{cap:l=!0,easing:d=v=>v*(2-v)}=a,{cap:f=!0,easing:u=v=>--v*v*v+1}=h;if(s.length===0||n<=0)return[];let p=s[s.length-1].runningLength,g=a.taper===!1?0:a.taper===!0?Math.max(n,p):a.taper,y=h.taper===!1?0:h.taper===!0?Math.max(n,p):h.taper,M=Math.pow(n*e,2),b=[],k=[],O=s.slice(0,10).reduce((v,D)=>{let L=D.pressure;if(r){let C=K(1,D.distance/n),kt=K(1,1-C);L=K(1,v+(kt-v)*(C*Ht))}return(v+L)/2},s[0].pressure),w=Ft(n,o,s[s.length-1].pressure,i),S,I=s[0].vector,A=s[0].point,Z=A,$=A,z=Z,B=!1;for(let v=0;v<s.length;v++){let{pressure:D}=s[v],{point:L,vector:C,distance:kt,runningLength:U}=s[v];if(v<s.length-1&&p-U<3)continue;if(o){if(r){let V=K(1,kt/n),xt=K(1,1-V);D=K(1,O+(xt-O)*(V*Ht))}w=Ft(n,o,D,i)}else w=n/2;S===void 0&&(S=w);let ie=U<g?d(U/g):1,he=p-U<y?u((p-U)/y):1;w=Math.max(.01,w*Math.min(ie,he));let Wt=(v<s.length-1?s[v+1]:s[v]).vector,mt=v<s.length-1?Gt(C,Wt):1,le=Gt(C,I)<0&&!B,_t=mt!==null&&mt<0;if(le||_t){let V=j(tt(I),w);for(let xt=1/13,it=0;it<=1;it+=xt)$=et(G(L,V),L,st*it),b.push($),z=et(H(L,V),L,st*-it),k.push(z);A=$,Z=z,_t&&(B=!0);continue}if(B=!1,v===s.length-1){let V=j(tt(C),w);b.push(G(L,V)),k.push(H(L,V));continue}let Rt=j(tt($t(Wt,C,mt)),w);$=G(L,Rt),(v<=1||qt(A,$)>M)&&(b.push($),A=$),z=H(L,Rt),(v<=1||qt(Z,z)>M)&&(k.push(z),Z=z),O=D,I=C}let E=s[0].point.slice(0,2),P=s.length>1?s[s.length-1].point.slice(0,2):H(s[0].point,[1,1]),W=[],q=[];if(s.length===1){if(!(g||y)||c){let v=jt(E,Ut(tt(G(E,P))),-(S||w)),D=[];for(let L=1/13,C=L;C<=1;C+=L)D.push(et(v,E,st*2*C));return D}}else{if(!(g||y&&s.length===1))if(l)for(let D=1/13,L=D;L<=1;L+=D){let C=et(k[0],E,st*L);W.push(C)}else{let D=G(b[0],k[0]),L=j(D,.5),C=j(D,.51);W.push(G(E,L),G(E,C),H(E,C),H(E,L))}let v=tt(ce(s[s.length-1].vector));if(y||g&&s.length===1)q.push(P);else if(f){let D=jt(P,v,w);for(let L=1/29,C=L;C<1;C+=L)q.push(et(D,P,st*3*C))}else q.push(H(P,j(v,w)),H(P,j(v,w*.99)),G(P,j(v,w*.99)),G(P,j(v,w)))}return b.concat(q,k.reverse(),W)}function Me(s,t={}){var n;let{streamline:e=.5,size:o=16,last:r=!1}=t;if(s.length===0)return[];let i=.15+(1-e)*.85,a=Array.isArray(s[0])?s:s.map(({x:u,y:p,pressure:g=.5})=>[u,p,g]);if(a.length===2){let u=a[1];a=a.slice(0,-1);for(let p=1;p<5;p++)a.push($t(a[0],u,p/4))}a.length===1&&(a=[...a,[...H(a[0],[1,1]),...a[0].slice(2)]]);let h=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],c=!1,l=0,d=h[0],f=a.length-1;for(let u=1;u<a.length;u++){let p=r&&u===f?a[u].slice(0,2):$t(d.point,a[u],i);if(fe(d.point,p))continue;let g=ge(p,d.point);if(l+=g,u<f&&!c){if(l<o)continue;c=!0}d={point:p,pressure:a[u][2]>=0?a[u][2]:.5,vector:Ut(G(d.point,p)),distance:g,runningLength:l},h.push(d)}return h[0].vector=((n=h[1])==null?void 0:n.vector)||[0,0],h}function ke(s,t={}){return ye(Me(s,t),t)}function vt(s,t,n){if(s&&s.length){const[e,o]=t,r=Math.PI/180*n,i=Math.cos(r),a=Math.sin(r);for(const h of s){const[c,l]=h;h[0]=(c-e)*i-(l-o)*a+e,h[1]=(c-e)*a+(l-o)*i+o}}}function me(s,t){return s[0]===t[0]&&s[1]===t[1]}function xe(s,t,n,e=1){const o=n,r=Math.max(t,.1),i=s[0]&&s[0][0]&&typeof s[0][0]=="number"?[s]:s,a=[0,0];if(o)for(const c of i)vt(c,a,o);const h=function(c,l,d){const f=[];for(const b of c){const k=[...b];me(k[0],k[k.length-1])||k.push([k[0][0],k[0][1]]),k.length>2&&f.push(k)}const u=[];l=Math.max(l,.1);const p=[];for(const b of f)for(let k=0;k<b.length-1;k++){const O=b[k],w=b[k+1];if(O[1]!==w[1]){const S=Math.min(O[1],w[1]);p.push({ymin:S,ymax:Math.max(O[1],w[1]),x:S===O[1]?O[0]:w[0],islope:(w[0]-O[0])/(w[1]-O[1])})}}if(p.sort((b,k)=>b.ymin<k.ymin?-1:b.ymin>k.ymin?1:b.x<k.x?-1:b.x>k.x?1:b.ymax===k.ymax?0:(b.ymax-k.ymax)/Math.abs(b.ymax-k.ymax)),!p.length)return u;let g=[],y=p[0].ymin,M=0;for(;g.length||p.length;){if(p.length){let b=-1;for(let k=0;k<p.length&&!(p[k].ymin>y);k++)b=k;p.splice(0,b+1).forEach(k=>{g.push({s:y,edge:k})})}if(g=g.filter(b=>!(b.edge.ymax<=y)),g.sort((b,k)=>b.edge.x===k.edge.x?0:(b.edge.x-k.edge.x)/Math.abs(b.edge.x-k.edge.x)),(d!==1||M%l==0)&&g.length>1)for(let b=0;b<g.length;b+=2){const k=b+1;if(k>=g.length)break;const O=g[b].edge,w=g[k].edge;u.push([[Math.round(O.x),y],[Math.round(w.x),y]])}y+=d,g.forEach(b=>{b.edge.x=b.edge.x+d*b.edge.islope}),M++}return u}(i,r,e);if(o){for(const c of i)vt(c,a,-o);(function(c,l,d){const f=[];c.forEach(u=>f.push(...u)),vt(f,l,d)})(h,a,-o)}return h}function at(s,t){var n;const e=t.hachureAngle+90;let o=t.hachureGap;o<0&&(o=4*t.strokeWidth),o=Math.round(Math.max(o,.1));let r=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(r=o),xe(s,o,e,r||1)}class At{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const e=at(t,n);return{type:"fillSketch",ops:this.renderLines(e,n)}}renderLines(t,n){const e=[];for(const o of t)e.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],n));return e}}function Mt(s){const t=s[0],n=s[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class ve extends At{fillPolygons(t,n){let e=n.hachureGap;e<0&&(e=4*n.strokeWidth),e=Math.max(e,.1);const o=at(t,Object.assign({},n,{hachureGap:e})),r=Math.PI/180*n.hachureAngle,i=[],a=.5*e*Math.cos(r),h=.5*e*Math.sin(r);for(const[c,l]of o)Mt([c,l])&&i.push([[c[0]-a,c[1]+h],[...l]],[[c[0]+a,c[1]-h],[...l]]);return{type:"fillSketch",ops:this.renderLines(i,n)}}}class we extends At{fillPolygons(t,n){const e=this._fillPolygons(t,n),o=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),r=this._fillPolygons(t,o);return e.ops=e.ops.concat(r.ops),e}}class Se{constructor(t){this.helper=t}fillPolygons(t,n){const e=at(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(e,n)}dotsOnLines(t,n){const e=[];let o=n.hachureGap;o<0&&(o=4*n.strokeWidth),o=Math.max(o,.1);let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const i=o/4;for(const a of t){const h=Mt(a),c=h/o,l=Math.ceil(c)-1,d=h-l*o,f=(a[0][0]+a[1][0])/2-o/4,u=Math.min(a[0][1],a[1][1]);for(let p=0;p<l;p++){const g=u+d+p*o,y=f-i+2*Math.random()*i,M=g-i+2*Math.random()*i,b=this.helper.ellipse(y,M,r,r,n);e.push(...b.ops)}}return{type:"fillSketch",ops:e}}}class Pe{constructor(t){this.helper=t}fillPolygons(t,n){const e=at(t,n);return{type:"fillSketch",ops:this.dashedLine(e,n)}}dashedLine(t,n){const e=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,o=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,r=[];return t.forEach(i=>{const a=Mt(i),h=Math.floor(a/(e+o)),c=(a+o-h*(e+o))/2;let l=i[0],d=i[1];l[0]>d[0]&&(l=i[1],d=i[0]);const f=Math.atan((d[1]-l[1])/(d[0]-l[0]));for(let u=0;u<h;u++){const p=u*(e+o),g=p+e,y=[l[0]+p*Math.cos(f)+c*Math.cos(f),l[1]+p*Math.sin(f)+c*Math.sin(f)],M=[l[0]+g*Math.cos(f)+c*Math.cos(f),l[1]+g*Math.sin(f)+c*Math.sin(f)];r.push(...this.helper.doubleLineOps(y[0],y[1],M[0],M[1],n))}}),r}}class Le{constructor(t){this.helper=t}fillPolygons(t,n){const e=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,o=n.zigzagOffset<0?e:n.zigzagOffset,r=at(t,n=Object.assign({},n,{hachureGap:e+o}));return{type:"fillSketch",ops:this.zigzagLines(r,o,n)}}zigzagLines(t,n,e){const o=[];return t.forEach(r=>{const i=Mt(r),a=Math.round(i/(2*n));let h=r[0],c=r[1];h[0]>c[0]&&(h=r[1],c=r[0]);const l=Math.atan((c[1]-h[1])/(c[0]-h[0]));for(let d=0;d<a;d++){const f=2*d*n,u=2*(d+1)*n,p=Math.sqrt(2*Math.pow(n,2)),g=[h[0]+f*Math.cos(l),h[1]+f*Math.sin(l)],y=[h[0]+u*Math.cos(l),h[1]+u*Math.sin(l)],M=[g[0]+p*Math.cos(l+Math.PI/4),g[1]+p*Math.sin(l+Math.PI/4)];o.push(...this.helper.doubleLineOps(g[0],g[1],M[0],M[1],e),...this.helper.doubleLineOps(M[0],M[1],y[0],y[1],e))}}),o}}const _={};class Ce{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Oe=0,wt=1,Nt=2,ht={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function St(s,t){return s.type===t}function zt(s){const t=[],n=function(i){const a=new Array;for(;i!=="";)if(i.match(/^([ \t\r\n,]+)/))i=i.substr(RegExp.$1.length);else if(i.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:Oe,text:RegExp.$1},i=i.substr(RegExp.$1.length);else{if(!i.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:wt,text:`${parseFloat(RegExp.$1)}`},i=i.substr(RegExp.$1.length)}return a[a.length]={type:Nt,text:""},a}(s);let e="BOD",o=0,r=n[o];for(;!St(r,Nt);){let i=0;const a=[];if(e==="BOD"){if(r.text!=="M"&&r.text!=="m")return zt("M0,0"+s);o++,i=ht[r.text],e=r.text}else St(r,wt)?i=ht[e]:(o++,i=ht[r.text],e=r.text);if(!(o+i<n.length))throw new Error("Path data ended short");for(let h=o;h<o+i;h++){const c=n[h];if(!St(c,wt))throw new Error("Param not a number: "+e+","+c.text);a[a.length]=+c.text}if(typeof ht[e]!="number")throw new Error("Bad segment: "+e);{const h={key:e,data:a};t.push(h),o+=i,r=n[o],e==="M"&&(e="L"),e==="m"&&(e="l")}}return t}function te(s){let t=0,n=0,e=0,o=0;const r=[];for(const{key:i,data:a}of s)switch(i){case"M":r.push({key:"M",data:[...a]}),[t,n]=a,[e,o]=a;break;case"m":t+=a[0],n+=a[1],r.push({key:"M",data:[t,n]}),e=t,o=n;break;case"L":r.push({key:"L",data:[...a]}),[t,n]=a;break;case"l":t+=a[0],n+=a[1],r.push({key:"L",data:[t,n]});break;case"C":r.push({key:"C",data:[...a]}),t=a[4],n=a[5];break;case"c":{const h=a.map((c,l)=>l%2?c+n:c+t);r.push({key:"C",data:h}),t=h[4],n=h[5];break}case"Q":r.push({key:"Q",data:[...a]}),t=a[2],n=a[3];break;case"q":{const h=a.map((c,l)=>l%2?c+n:c+t);r.push({key:"Q",data:h}),t=h[2],n=h[3];break}case"A":r.push({key:"A",data:[...a]}),t=a[5],n=a[6];break;case"a":t+=a[5],n+=a[6],r.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,n]});break;case"H":r.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],r.push({key:"H",data:[t]});break;case"V":r.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],r.push({key:"V",data:[n]});break;case"S":r.push({key:"S",data:[...a]}),t=a[2],n=a[3];break;case"s":{const h=a.map((c,l)=>l%2?c+n:c+t);r.push({key:"S",data:h}),t=h[2],n=h[3];break}case"T":r.push({key:"T",data:[...a]}),t=a[0],n=a[1];break;case"t":t+=a[0],n+=a[1],r.push({key:"T",data:[t,n]});break;case"Z":case"z":r.push({key:"Z",data:[]}),t=e,n=o}return r}function ee(s){const t=[];let n="",e=0,o=0,r=0,i=0,a=0,h=0;for(const{key:c,data:l}of s){switch(c){case"M":t.push({key:"M",data:[...l]}),[e,o]=l,[r,i]=l;break;case"C":t.push({key:"C",data:[...l]}),e=l[4],o=l[5],a=l[2],h=l[3];break;case"L":t.push({key:"L",data:[...l]}),[e,o]=l;break;case"H":e=l[0],t.push({key:"L",data:[e,o]});break;case"V":o=l[0],t.push({key:"L",data:[e,o]});break;case"S":{let d=0,f=0;n==="C"||n==="S"?(d=e+(e-a),f=o+(o-h)):(d=e,f=o),t.push({key:"C",data:[d,f,...l]}),a=l[0],h=l[1],e=l[2],o=l[3];break}case"T":{const[d,f]=l;let u=0,p=0;n==="Q"||n==="T"?(u=e+(e-a),p=o+(o-h)):(u=e,p=o);const g=e+2*(u-e)/3,y=o+2*(p-o)/3,M=d+2*(u-d)/3,b=f+2*(p-f)/3;t.push({key:"C",data:[g,y,M,b,d,f]}),a=u,h=p,e=d,o=f;break}case"Q":{const[d,f,u,p]=l,g=e+2*(d-e)/3,y=o+2*(f-o)/3,M=u+2*(d-u)/3,b=p+2*(f-p)/3;t.push({key:"C",data:[g,y,M,b,u,p]}),a=d,h=f,e=u,o=p;break}case"A":{const d=Math.abs(l[0]),f=Math.abs(l[1]),u=l[2],p=l[3],g=l[4],y=l[5],M=l[6];d===0||f===0?(t.push({key:"C",data:[e,o,y,M,y,M]}),e=y,o=M):(e!==y||o!==M)&&(se(e,o,y,M,d,f,u,p,g).forEach(function(b){t.push({key:"C",data:b})}),e=y,o=M);break}case"Z":t.push({key:"Z",data:[]}),e=r,o=i}n=c}return t}function nt(s,t,n){return[s*Math.cos(n)-t*Math.sin(n),s*Math.sin(n)+t*Math.cos(n)]}function se(s,t,n,e,o,r,i,a,h,c){const l=(d=i,Math.PI*d/180);var d;let f=[],u=0,p=0,g=0,y=0;if(c)[u,p,g,y]=c;else{[s,t]=nt(s,t,-l),[n,e]=nt(n,e,-l);const E=(s-n)/2,P=(t-e)/2;let W=E*E/(o*o)+P*P/(r*r);W>1&&(W=Math.sqrt(W),o*=W,r*=W);const q=o*o,v=r*r,D=q*v-q*P*P-v*E*E,L=q*P*P+v*E*E,C=(a===h?-1:1)*Math.sqrt(Math.abs(D/L));g=C*o*P/r+(s+n)/2,y=C*-r*E/o+(t+e)/2,u=Math.asin(parseFloat(((t-y)/r).toFixed(9))),p=Math.asin(parseFloat(((e-y)/r).toFixed(9))),s<g&&(u=Math.PI-u),n<g&&(p=Math.PI-p),u<0&&(u=2*Math.PI+u),p<0&&(p=2*Math.PI+p),h&&u>p&&(u-=2*Math.PI),!h&&p>u&&(p-=2*Math.PI)}let M=p-u;if(Math.abs(M)>120*Math.PI/180){const E=p,P=n,W=e;p=h&&p>u?u+120*Math.PI/180*1:u+120*Math.PI/180*-1,f=se(n=g+o*Math.cos(p),e=y+r*Math.sin(p),P,W,o,r,i,0,h,[p,E,g,y])}M=p-u;const b=Math.cos(u),k=Math.sin(u),O=Math.cos(p),w=Math.sin(p),S=Math.tan(M/4),I=4/3*o*S,A=4/3*r*S,Z=[s,t],$=[s+I*k,t-A*b],z=[n+I*w,e-A*O],B=[n,e];if($[0]=2*Z[0]-$[0],$[1]=2*Z[1]-$[1],c)return[$,z,B].concat(f);{f=[$,z,B].concat(f);const E=[];for(let P=0;P<f.length;P+=3){const W=nt(f[P][0],f[P][1],l),q=nt(f[P+1][0],f[P+1][1],l),v=nt(f[P+2][0],f[P+2][1],l);E.push([W[0],W[1],q[0],q[1],v[0],v[1]])}return E}}const Ee={randOffset:function(s,t){return x(s,t)},randOffsetWithRange:function(s,t,n){return dt(s,t,n)},ellipse:function(s,t,n,e,o){const r=oe(n,e,o);return Dt(s,t,o,r).opset},doubleLineOps:function(s,t,n,e,o){return Q(s,t,n,e,o,!0)}};function ne(s,t,n,e,o){return{type:"path",ops:Q(s,t,n,e,o)}}function ft(s,t,n){const e=(s||[]).length;if(e>2){const o=[];for(let r=0;r<e-1;r++)o.push(...Q(s[r][0],s[r][1],s[r+1][0],s[r+1][1],n));return t&&o.push(...Q(s[e-1][0],s[e-1][1],s[0][0],s[0][1],n)),{type:"path",ops:o}}return e===2?ne(s[0][0],s[0][1],s[1][0],s[1][1],n):{type:"path",ops:[]}}function $e(s,t,n,e,o){return function(r,i){return ft(r,!0,i)}([[s,t],[s+n,t],[s+n,t+e],[s,t+e]],o)}function Zt(s,t){if(s.length){const n=typeof s[0][0]=="number"?[s]:s,e=lt(n[0],1*(1+.2*t.roughness),t),o=t.disableMultiStroke?[]:lt(n[0],1.5*(1+.22*t.roughness),Yt(t));for(let r=1;r<n.length;r++){const i=n[r];if(i.length){const a=lt(i,1*(1+.2*t.roughness),t),h=t.disableMultiStroke?[]:lt(i,1.5*(1+.22*t.roughness),Yt(t));for(const c of a)c.op!=="move"&&e.push(c);for(const c of h)c.op!=="move"&&o.push(c)}}return{type:"path",ops:e.concat(o)}}return{type:"path",ops:[]}}function oe(s,t,n){const e=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(s/2,2)+Math.pow(t/2,2))/2)),o=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*e)),r=2*Math.PI/o;let i=Math.abs(s/2),a=Math.abs(t/2);const h=1-n.curveFitting;return i+=x(i*h,n),a+=x(a*h,n),{increment:r,rx:i,ry:a}}function Dt(s,t,n,e){const[o,r]=Bt(e.increment,s,t,e.rx,e.ry,1,e.increment*dt(.1,dt(.4,1,n),n),n);let i=gt(o,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[a]=Bt(e.increment,s,t,e.rx,e.ry,1.5,0,n),h=gt(a,null,n);i=i.concat(h)}return{estimatedPoints:r,opset:{type:"path",ops:i}}}function Vt(s,t,n,e,o,r,i,a,h){const c=s,l=t;let d=Math.abs(n/2),f=Math.abs(e/2);d+=x(.01*d,h),f+=x(.01*f,h);let u=o,p=r;for(;u<0;)u+=2*Math.PI,p+=2*Math.PI;p-u>2*Math.PI&&(u=0,p=2*Math.PI);const g=2*Math.PI/h.curveStepCount,y=Math.min(g/2,(p-u)/2),M=Kt(y,c,l,d,f,u,p,1,h);if(!h.disableMultiStroke){const b=Kt(y,c,l,d,f,u,p,1.5,h);M.push(...b)}return i&&(a?M.push(...Q(c,l,c+d*Math.cos(u),l+f*Math.sin(u),h),...Q(c,l,c+d*Math.cos(p),l+f*Math.sin(p),h)):M.push({op:"lineTo",data:[c,l]},{op:"lineTo",data:[c+d*Math.cos(u),l+f*Math.sin(u)]})),{type:"path",ops:M}}function Qt(s,t){const n=ee(te(zt(s))),e=[];let o=[0,0],r=[0,0];for(const{key:i,data:a}of n)switch(i){case"M":r=[a[0],a[1]],o=[a[0],a[1]];break;case"L":e.push(...Q(r[0],r[1],a[0],a[1],t)),r=[a[0],a[1]];break;case"C":{const[h,c,l,d,f,u]=a;e.push(...De(h,c,l,d,f,u,r,t)),r=[f,u];break}case"Z":e.push(...Q(r[0],r[1],o[0],o[1],t)),r=[o[0],o[1]]}return{type:"path",ops:e}}function Pt(s,t){const n=[];for(const e of s)if(e.length){const o=t.maxRandomnessOffset||0,r=e.length;if(r>2){n.push({op:"move",data:[e[0][0]+x(o,t),e[0][1]+x(o,t)]});for(let i=1;i<r;i++)n.push({op:"lineTo",data:[e[i][0]+x(o,t),e[i][1]+x(o,t)]})}}return{type:"fillPath",ops:n}}function X(s,t){return function(n,e){let o=n.fillStyle||"hachure";if(!_[o])switch(o){case"zigzag":_[o]||(_[o]=new ve(e));break;case"cross-hatch":_[o]||(_[o]=new we(e));break;case"dots":_[o]||(_[o]=new Se(e));break;case"dashed":_[o]||(_[o]=new Pe(e));break;case"zigzag-line":_[o]||(_[o]=new Le(e));break;default:o="hachure",_[o]||(_[o]=new At(e))}return _[o]}(t,Ee).fillPolygons(s,t)}function Yt(s){const t=Object.assign({},s);return t.randomizer=void 0,s.seed&&(t.seed=s.seed+1),t}function re(s){return s.randomizer||(s.randomizer=new Ce(s.seed||0)),s.randomizer.next()}function dt(s,t,n,e=1){return n.roughness*e*(re(n)*(t-s)+s)}function x(s,t,n=1){return dt(-s,s,t,n)}function Q(s,t,n,e,o,r=!1){const i=r?o.disableMultiStrokeFill:o.disableMultiStroke,a=Tt(s,t,n,e,o,!0,!1);if(i)return a;const h=Tt(s,t,n,e,o,!0,!0);return a.concat(h)}function Tt(s,t,n,e,o,r,i){const a=Math.pow(s-n,2)+Math.pow(t-e,2),h=Math.sqrt(a);let c=1;c=h<200?1:h>500?.4:-.0016668*h+1.233334;let l=o.maxRandomnessOffset||0;l*l*100>a&&(l=h/10);const d=l/2,f=.2+.2*re(o);let u=o.bowing*o.maxRandomnessOffset*(e-t)/200,p=o.bowing*o.maxRandomnessOffset*(s-n)/200;u=x(u,o,c),p=x(p,o,c);const g=[],y=()=>x(d,o,c),M=()=>x(l,o,c),b=o.preserveVertices;return i?g.push({op:"move",data:[s+(b?0:y()),t+(b?0:y())]}):g.push({op:"move",data:[s+(b?0:x(l,o,c)),t+(b?0:x(l,o,c))]}),i?g.push({op:"bcurveTo",data:[u+s+(n-s)*f+y(),p+t+(e-t)*f+y(),u+s+2*(n-s)*f+y(),p+t+2*(e-t)*f+y(),n+(b?0:y()),e+(b?0:y())]}):g.push({op:"bcurveTo",data:[u+s+(n-s)*f+M(),p+t+(e-t)*f+M(),u+s+2*(n-s)*f+M(),p+t+2*(e-t)*f+M(),n+(b?0:M()),e+(b?0:M())]}),g}function lt(s,t,n){if(!s.length)return[];const e=[];e.push([s[0][0]+x(t,n),s[0][1]+x(t,n)]),e.push([s[0][0]+x(t,n),s[0][1]+x(t,n)]);for(let o=1;o<s.length;o++)e.push([s[o][0]+x(t,n),s[o][1]+x(t,n)]),o===s.length-1&&e.push([s[o][0]+x(t,n),s[o][1]+x(t,n)]);return gt(e,null,n)}function gt(s,t,n){const e=s.length,o=[];if(e>3){const r=[],i=1-n.curveTightness;o.push({op:"move",data:[s[1][0],s[1][1]]});for(let a=1;a+2<e;a++){const h=s[a];r[0]=[h[0],h[1]],r[1]=[h[0]+(i*s[a+1][0]-i*s[a-1][0])/6,h[1]+(i*s[a+1][1]-i*s[a-1][1])/6],r[2]=[s[a+1][0]+(i*s[a][0]-i*s[a+2][0])/6,s[a+1][1]+(i*s[a][1]-i*s[a+2][1])/6],r[3]=[s[a+1][0],s[a+1][1]],o.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}}else e===3?(o.push({op:"move",data:[s[1][0],s[1][1]]}),o.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[2][0],s[2][1]]})):e===2&&o.push(...Tt(s[0][0],s[0][1],s[1][0],s[1][1],n,!0,!0));return o}function Bt(s,t,n,e,o,r,i,a){const h=[],c=[];if(a.roughness===0){s/=4,c.push([t+e*Math.cos(-s),n+o*Math.sin(-s)]);for(let l=0;l<=2*Math.PI;l+=s){const d=[t+e*Math.cos(l),n+o*Math.sin(l)];h.push(d),c.push(d)}c.push([t+e*Math.cos(0),n+o*Math.sin(0)]),c.push([t+e*Math.cos(s),n+o*Math.sin(s)])}else{const l=x(.5,a)-Math.PI/2;c.push([x(r,a)+t+.9*e*Math.cos(l-s),x(r,a)+n+.9*o*Math.sin(l-s)]);const d=2*Math.PI+l-.01;for(let f=l;f<d;f+=s){const u=[x(r,a)+t+e*Math.cos(f),x(r,a)+n+o*Math.sin(f)];h.push(u),c.push(u)}c.push([x(r,a)+t+e*Math.cos(l+2*Math.PI+.5*i),x(r,a)+n+o*Math.sin(l+2*Math.PI+.5*i)]),c.push([x(r,a)+t+.98*e*Math.cos(l+i),x(r,a)+n+.98*o*Math.sin(l+i)]),c.push([x(r,a)+t+.9*e*Math.cos(l+.5*i),x(r,a)+n+.9*o*Math.sin(l+.5*i)])}return[c,h]}function Kt(s,t,n,e,o,r,i,a,h){const c=r+x(.1,h),l=[];l.push([x(a,h)+t+.9*e*Math.cos(c-s),x(a,h)+n+.9*o*Math.sin(c-s)]);for(let d=c;d<=i;d+=s)l.push([x(a,h)+t+e*Math.cos(d),x(a,h)+n+o*Math.sin(d)]);return l.push([t+e*Math.cos(i),n+o*Math.sin(i)]),l.push([t+e*Math.cos(i),n+o*Math.sin(i)]),gt(l,null,h)}function De(s,t,n,e,o,r,i,a){const h=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let l=[0,0];const d=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let u=0;u<d;u++)u===0?h.push({op:"move",data:[i[0],i[1]]}):h.push({op:"move",data:[i[0]+(f?0:x(c[0],a)),i[1]+(f?0:x(c[0],a))]}),l=f?[o,r]:[o+x(c[u],a),r+x(c[u],a)],h.push({op:"bcurveTo",data:[s+x(c[u],a),t+x(c[u],a),n+x(c[u],a),e+x(c[u],a),l[0],l[1]]});return h}function ot(s){return[...s]}function Xt(s,t=0){const n=s.length;if(n<3)throw new Error("A curve must have at least three points.");const e=[];if(n===3)e.push(ot(s[0]),ot(s[1]),ot(s[2]),ot(s[2]));else{const o=[];o.push(s[0],s[0]);for(let a=1;a<s.length;a++)o.push(s[a]),a===s.length-1&&o.push(s[a]);const r=[],i=1-t;e.push(ot(o[0]));for(let a=1;a+2<o.length;a++){const h=o[a];r[0]=[h[0],h[1]],r[1]=[h[0]+(i*o[a+1][0]-i*o[a-1][0])/6,h[1]+(i*o[a+1][1]-i*o[a-1][1])/6],r[2]=[o[a+1][0]+(i*o[a][0]-i*o[a+2][0])/6,o[a+1][1]+(i*o[a][1]-i*o[a+2][1])/6],r[3]=[o[a+1][0],o[a+1][1]],e.push(r[1],r[2],r[3])}}return e}function pt(s,t){return Math.pow(s[0]-t[0],2)+Math.pow(s[1]-t[1],2)}function Te(s,t,n){const e=pt(t,n);if(e===0)return pt(s,t);let o=((s[0]-t[0])*(n[0]-t[0])+(s[1]-t[1])*(n[1]-t[1]))/e;return o=Math.max(0,Math.min(1,o)),pt(s,Y(t,n,o))}function Y(s,t,n){return[s[0]+(t[0]-s[0])*n,s[1]+(t[1]-s[1])*n]}function It(s,t,n,e){const o=e||[];if(function(a,h){const c=a[h+0],l=a[h+1],d=a[h+2],f=a[h+3];let u=3*l[0]-2*c[0]-f[0];u*=u;let p=3*l[1]-2*c[1]-f[1];p*=p;let g=3*d[0]-2*f[0]-c[0];g*=g;let y=3*d[1]-2*f[1]-c[1];return y*=y,u<g&&(u=g),p<y&&(p=y),u+p}(s,t)<n){const a=s[t+0];o.length?(r=o[o.length-1],i=a,Math.sqrt(pt(r,i))>1&&o.push(a)):o.push(a),o.push(s[t+3])}else{const h=s[t+0],c=s[t+1],l=s[t+2],d=s[t+3],f=Y(h,c,.5),u=Y(c,l,.5),p=Y(l,d,.5),g=Y(f,u,.5),y=Y(u,p,.5),M=Y(g,y,.5);It([h,f,g,M],0,n,o),It([M,y,p,d],0,n,o)}var r,i;return o}function Ie(s,t){return bt(s,0,s.length,t)}function bt(s,t,n,e,o){const r=o||[],i=s[t],a=s[n-1];let h=0,c=1;for(let l=t+1;l<n-1;++l){const d=Te(s[l],i,a);d>h&&(h=d,c=l)}return Math.sqrt(h)>e?(bt(s,t,c+1,e,r),bt(s,c,n,e,r)):(r.length||r.push(i),r.push(a)),r}function Lt(s,t=.15,n){const e=[],o=(s.length-1)/3;for(let r=0;r<o;r++)It(s,3*r,t,e);return n&&n>0?bt(e,0,e.length,n):e}const R="none";class yt{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,e){return{shape:t,sets:n||[],options:e||this.defaultOptions}}line(t,n,e,o,r){const i=this._o(r);return this._d("line",[ne(t,n,e,o,i)],i)}rectangle(t,n,e,o,r){const i=this._o(r),a=[],h=$e(t,n,e,o,i);if(i.fill){const c=[[t,n],[t+e,n],[t+e,n+o],[t,n+o]];i.fillStyle==="solid"?a.push(Pt([c],i)):a.push(X([c],i))}return i.stroke!==R&&a.push(h),this._d("rectangle",a,i)}ellipse(t,n,e,o,r){const i=this._o(r),a=[],h=oe(e,o,i),c=Dt(t,n,i,h);if(i.fill)if(i.fillStyle==="solid"){const l=Dt(t,n,i,h).opset;l.type="fillPath",a.push(l)}else a.push(X([c.estimatedPoints],i));return i.stroke!==R&&a.push(c.opset),this._d("ellipse",a,i)}circle(t,n,e,o){const r=this.ellipse(t,n,e,e,o);return r.shape="circle",r}linearPath(t,n){const e=this._o(n);return this._d("linearPath",[ft(t,!1,e)],e)}arc(t,n,e,o,r,i,a=!1,h){const c=this._o(h),l=[],d=Vt(t,n,e,o,r,i,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const f=Object.assign({},c);f.disableMultiStroke=!0;const u=Vt(t,n,e,o,r,i,!0,!1,f);u.type="fillPath",l.push(u)}else l.push(function(f,u,p,g,y,M,b){const k=f,O=u;let w=Math.abs(p/2),S=Math.abs(g/2);w+=x(.01*w,b),S+=x(.01*S,b);let I=y,A=M;for(;I<0;)I+=2*Math.PI,A+=2*Math.PI;A-I>2*Math.PI&&(I=0,A=2*Math.PI);const Z=(A-I)/b.curveStepCount,$=[];for(let z=I;z<=A;z+=Z)$.push([k+w*Math.cos(z),O+S*Math.sin(z)]);return $.push([k+w*Math.cos(A),O+S*Math.sin(A)]),$.push([k,O]),X([$],b)}(t,n,e,o,r,i,c));return c.stroke!==R&&l.push(d),this._d("arc",l,c)}curve(t,n){const e=this._o(n),o=[],r=Zt(t,e);if(e.fill&&e.fill!==R)if(e.fillStyle==="solid"){const i=Zt(t,Object.assign(Object.assign({},e),{disableMultiStroke:!0,roughness:e.roughness?e.roughness+e.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(i.ops)})}else{const i=[],a=t;if(a.length){const h=typeof a[0][0]=="number"?[a]:a;for(const c of h)c.length<3?i.push(...c):c.length===3?i.push(...Lt(Xt([c[0],c[0],c[1],c[2]]),10,(1+e.roughness)/2)):i.push(...Lt(Xt(c),10,(1+e.roughness)/2))}i.length&&o.push(X([i],e))}return e.stroke!==R&&o.push(r),this._d("curve",o,e)}polygon(t,n){const e=this._o(n),o=[],r=ft(t,!0,e);return e.fill&&(e.fillStyle==="solid"?o.push(Pt([t],e)):o.push(X([t],e))),e.stroke!==R&&o.push(r),this._d("polygon",o,e)}path(t,n){const e=this._o(n),o=[];if(!t)return this._d("path",o,e);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const r=e.fill&&e.fill!=="transparent"&&e.fill!==R,i=e.stroke!==R,a=!!(e.simplification&&e.simplification<1),h=function(l,d,f){const u=ee(te(zt(l))),p=[];let g=[],y=[0,0],M=[];const b=()=>{M.length>=4&&g.push(...Lt(M,d)),M=[]},k=()=>{b(),g.length&&(p.push(g),g=[])};for(const{key:w,data:S}of u)switch(w){case"M":k(),y=[S[0],S[1]],g.push(y);break;case"L":b(),g.push([S[0],S[1]]);break;case"C":if(!M.length){const I=g.length?g[g.length-1]:y;M.push([I[0],I[1]])}M.push([S[0],S[1]]),M.push([S[2],S[3]]),M.push([S[4],S[5]]);break;case"Z":b(),g.push([y[0],y[1]])}if(k(),!f)return p;const O=[];for(const w of p){const S=Ie(w,f);S.length&&O.push(S)}return O}(t,1,a?4-4*(e.simplification||1):(1+e.roughness)/2),c=Qt(t,e);if(r)if(e.fillStyle==="solid")if(h.length===1){const l=Qt(t,Object.assign(Object.assign({},e),{disableMultiStroke:!0,roughness:e.roughness?e.roughness+e.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else o.push(Pt(h,e));else o.push(X(h,e));return i&&(a?h.forEach(l=>{o.push(ft(l,!1,e))}):o.push(c)),this._d("path",o,e)}opsToPath(t,n){let e="";for(const o of t.ops){const r=typeof n=="number"&&n>=0?o.data.map(i=>+i.toFixed(n)):o.data;switch(o.op){case"move":e+=`M${r[0]} ${r[1]} `;break;case"bcurveTo":e+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":e+=`L${r[0]} ${r[1]} `}}return e.trim()}toPaths(t){const n=t.sets||[],e=t.options||this.defaultOptions,o=[];for(const r of n){let i=null;switch(r.type){case"path":i={d:this.opsToPath(r),stroke:e.stroke,strokeWidth:e.strokeWidth,fill:R};break;case"fillPath":i={d:this.opsToPath(r),stroke:R,strokeWidth:0,fill:e.fill||R};break;case"fillSketch":i=this.fillSketch(r,e)}i&&o.push(i)}return o}fillSketch(t,n){let e=n.fillWeight;return e<0&&(e=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||R,strokeWidth:e,fill:R}}_mergedShape(t){return t.filter((n,e)=>e===0||n.op!=="move")}}class Ae{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new yt(n)}draw(t){const n=t.sets||[],e=t.options||this.getDefaultOptions(),o=this.ctx,r=t.options.fixedDecimalPlaceDigits;for(const i of n)switch(i.type){case"path":o.save(),o.strokeStyle=e.stroke==="none"?"transparent":e.stroke,o.lineWidth=e.strokeWidth,e.strokeLineDash&&o.setLineDash(e.strokeLineDash),e.strokeLineDashOffset&&(o.lineDashOffset=e.strokeLineDashOffset),this._drawToContext(o,i,r),o.restore();break;case"fillPath":{o.save(),o.fillStyle=e.fill||"";const a=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(o,i,r,a),o.restore();break}case"fillSketch":this.fillSketch(o,i,e)}}fillSketch(t,n,e){let o=e.fillWeight;o<0&&(o=e.strokeWidth/2),t.save(),e.fillLineDash&&t.setLineDash(e.fillLineDash),e.fillLineDashOffset&&(t.lineDashOffset=e.fillLineDashOffset),t.strokeStyle=e.fill||"",t.lineWidth=o,this._drawToContext(t,n,e.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,e,o="nonzero"){t.beginPath();for(const r of n.ops){const i=typeof e=="number"&&e>=0?r.data.map(a=>+a.toFixed(e)):r.data;switch(r.op){case"move":t.moveTo(i[0],i[1]);break;case"bcurveTo":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"lineTo":t.lineTo(i[0],i[1])}}n.type==="fillPath"?t.fill(o):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,e,o,r){const i=this.gen.line(t,n,e,o,r);return this.draw(i),i}rectangle(t,n,e,o,r){const i=this.gen.rectangle(t,n,e,o,r);return this.draw(i),i}ellipse(t,n,e,o,r){const i=this.gen.ellipse(t,n,e,o,r);return this.draw(i),i}circle(t,n,e,o){const r=this.gen.circle(t,n,e,o);return this.draw(r),r}linearPath(t,n){const e=this.gen.linearPath(t,n);return this.draw(e),e}polygon(t,n){const e=this.gen.polygon(t,n);return this.draw(e),e}arc(t,n,e,o,r,i,a=!1,h){const c=this.gen.arc(t,n,e,o,r,i,a,h);return this.draw(c),c}curve(t,n){const e=this.gen.curve(t,n);return this.draw(e),e}path(t,n){const e=this.gen.path(t,n);return this.draw(e),e}}const ct="http://www.w3.org/2000/svg";class ze{constructor(t,n){this.svg=t,this.gen=new yt(n)}draw(t){const n=t.sets||[],e=t.options||this.getDefaultOptions(),o=this.svg.ownerDocument||window.document,r=o.createElementNS(ct,"g"),i=t.options.fixedDecimalPlaceDigits;for(const a of n){let h=null;switch(a.type){case"path":h=o.createElementNS(ct,"path"),h.setAttribute("d",this.opsToPath(a,i)),h.setAttribute("stroke",e.stroke),h.setAttribute("stroke-width",e.strokeWidth+""),h.setAttribute("fill","none"),e.strokeLineDash&&h.setAttribute("stroke-dasharray",e.strokeLineDash.join(" ").trim()),e.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${e.strokeLineDashOffset}`);break;case"fillPath":h=o.createElementNS(ct,"path"),h.setAttribute("d",this.opsToPath(a,i)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",e.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this.fillSketch(o,a,e)}h&&r.appendChild(h)}return r}fillSketch(t,n,e){let o=e.fillWeight;o<0&&(o=e.strokeWidth/2);const r=t.createElementNS(ct,"path");return r.setAttribute("d",this.opsToPath(n,e.fixedDecimalPlaceDigits)),r.setAttribute("stroke",e.fill||""),r.setAttribute("stroke-width",o+""),r.setAttribute("fill","none"),e.fillLineDash&&r.setAttribute("stroke-dasharray",e.fillLineDash.join(" ").trim()),e.fillLineDashOffset&&r.setAttribute("stroke-dashoffset",`${e.fillLineDashOffset}`),r}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,e,o,r){const i=this.gen.line(t,n,e,o,r);return this.draw(i)}rectangle(t,n,e,o,r){const i=this.gen.rectangle(t,n,e,o,r);return this.draw(i)}ellipse(t,n,e,o,r){const i=this.gen.ellipse(t,n,e,o,r);return this.draw(i)}circle(t,n,e,o){const r=this.gen.circle(t,n,e,o);return this.draw(r)}linearPath(t,n){const e=this.gen.linearPath(t,n);return this.draw(e)}polygon(t,n){const e=this.gen.polygon(t,n);return this.draw(e)}arc(t,n,e,o,r,i,a=!1,h){const c=this.gen.arc(t,n,e,o,r,i,a,h);return this.draw(c)}curve(t,n){const e=this.gen.curve(t,n);return this.draw(e)}path(t,n){const e=this.gen.path(t,n);return this.draw(e)}}var We={canvas:(s,t)=>new Ae(s,t),svg:(s,t)=>new ze(s,t),generator:s=>new yt(s),newSeed:()=>yt.newSeed()};const _e=s=>{const t=document.createElement("div");t.style.position="fixed",t.style.background="#2d2d2d",t.style.borderRadius="8px",t.style.padding="15px",t.style.boxShadow="0 4px 12px rgba(0,0,0,0.25)",t.style.zIndex="10000",t.style.display="flex",t.style.flexDirection="column",t.style.gap="10px",s.position&&(t.style.left=`${s.position.x}px`,t.style.top=`${s.position.y}px`);const n=document.createElement("div");n.style.width="100%",n.style.height="60px",n.style.borderRadius="4px",n.style.border="1px solid #555";const e={r:Ct("R",0,255),g:Ct("G",0,255),b:Ct("B",0,255)},o=s.initialColor||[255,255,255];e.r.slider.value=o[0].toString(),e.r.number.value=o[0].toString(),e.g.slider.value=o[1].toString(),e.g.number.value=o[1].toString(),e.b.slider.value=o[2].toString(),e.b.number.value=o[2].toString(),i(o),t.appendChild(n),t.appendChild(e.r.container),t.appendChild(e.g.container),t.appendChild(e.b.container),document.body.appendChild(t);function r(){o[0]=parseInt(e.r.slider.value),o[1]=parseInt(e.g.slider.value),o[2]=parseInt(e.b.slider.value),i(o),s.onColorChange&&s.onColorChange([...o])}function i(d){n.style.backgroundColor=`rgb(${d[0]}, ${d[1]}, ${d[2]})`}function a(){document.body.removeChild(t),document.removeEventListener("click",l),s.onClose&&s.onClose()}const h=d=>{e[d].number.value=e[d].slider.value,r()},c=d=>{let f=parseInt(e[d].number.value);isNaN(f)&&(f=0),f=Math.max(0,Math.min(255,f)),e[d].slider.value=f.toString(),e[d].number.value=f.toString(),r()},l=d=>{t.contains(d.target)||a()};return e.r.slider.addEventListener("input",()=>h("r")),e.g.slider.addEventListener("input",()=>h("g")),e.b.slider.addEventListener("input",()=>h("b")),e.r.number.addEventListener("change",()=>c("r")),e.g.number.addEventListener("change",()=>c("g")),e.b.number.addEventListener("change",()=>c("b")),setTimeout(()=>{document.addEventListener("click",l)},0),{close:a}};function Ct(s,t,n){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="10px";const o=document.createElement("span");o.textContent=s,o.style.color="#eee",o.style.width="20px";const r=document.createElement("input");r.type="range",r.min=t.toString(),r.max=n.toString(),r.style.flex="1";const i=document.createElement("input");return i.type="number",i.min=t.toString(),i.max=n.toString(),i.style.width="60px",i.style.padding="5px",i.style.borderRadius="4px",i.style.border="1px solid #555",i.style.background="#1e1e1e",i.style.color="#fff",e.appendChild(o),e.appendChild(r),e.appendChild(i),{container:e,slider:r,number:i}}let Jt=document.getElementsByName("tools");Jt.forEach(s=>{s.addEventListener("click",()=>{Jt.forEach(t=>{t.checked&&(m.selectedTool=t.value)})})});const m={buffer:[],offset:[0,0],scale:1,selectedElementId:0,selectedTool:"text",isDrawing:!1},ut=(s,t)=>(s+t)/2,Re=(s,t=!0)=>{const n=s.length;if(n<4)return"";let e=s[0],o=s[1];const r=s[2];let i=`M${e[0].toFixed(2)},${e[1].toFixed(2)} Q${o[0].toFixed(2)},${o[1].toFixed(2)} ${ut(o[0],r[0]).toFixed(2)},${ut(o[1],r[1]).toFixed(2)} T`;for(let a=2,h=n-1;a<h;a++)e=s[a],o=s[a+1],i+=`${ut(e[0],o[0]).toFixed(2)},${ut(e[1],o[1]).toFixed(2)} `;return t&&(i+="Z"),i},T=document.querySelector("#canvas");if(!T)throw new Error("canvas not found!!!");T.height=window.innerHeight;T.width=window.innerWidth;const Fe=document.querySelector("#input-txt");if(!Fe)throw new Error("textarea not found!!!");const Ot=We.canvas(T),F=T.getContext("2d");if(!F)throw new Error("can't get context!!");window.addEventListener("resize",()=>{const s=T.width,t=T.height,n=window.devicePixelRatio||1,e=window.innerWidth,o=window.innerHeight;T.width=e*n,T.height=o*n,T.style.width=`${e}px`,T.style.height=`${o}px`;const r=(m.offset[0]+s/2)/s,i=(m.offset[1]+t/2)/t;m.offset[0]=e*r-e/2,m.offset[1]=o*i-o/2,F.setTransform(n,0,0,n,0,0),J()});const J=()=>{F.resetTransform(),F.clearRect(0,0,T.width,T.height),F.translate(m.offset[0],m.offset[1]),F.scale(m.scale,m.scale),m.buffer.forEach(s=>{switch(s.type){case"freehand":{const t=ke(s.points,{size:s.style.lineWidth}),n=Re(t),e=new Path2D(n);F.fillStyle=s.style.strokeColor,F.fill(e);break}case"rectangle":Ot.rectangle(s.bounds.anchor[0],s.bounds.anchor[1],s.bounds.extent[0],s.bounds.extent[1],{stroke:s.style.strokeColor});break;case"line":Ot.line(s.bounds.anchor[0],s.bounds.anchor[1],s.bounds.extent[0],s.bounds.extent[1],{stroke:s.style.strokeColor});break;case"ellipse":Ot.ellipse(s.bounds.anchor[0],s.bounds.anchor[1],s.bounds.extent[0],s.bounds.extent[1],{stroke:s.style.strokeColor});break;case"text":F.font=s.font,F.fillStyle=s.style.strokeColor,F.textBaseline="top",F.fillText(s.content,s.position[0],s.position[1]);break}})},ae=s=>{const t=(s.clientX-m.offset[0])/m.scale,n=(s.clientY-m.offset[1])/m.scale;return[t,n]};T.addEventListener("wheel",s=>{if(s.preventDefault(),s.ctrlKey){const t=s.deltaY<0?1.1:.9,n=m.scale*t,e=Math.min(Math.max(n,.1),4),o=T.width/2,r=T.height/2;m.offset[0]=o-(o-m.offset[0])/m.scale*e,m.offset[1]=r-(r-m.offset[1])/m.scale*e,m.scale=e,J()}else s.shiftKey?s.deltaY>0?m.offset[0]+=7:s.deltaY<0&&(m.offset[0]-=7):s.deltaY>0?m.offset[1]+=7:s.deltaY<0&&(m.offset[1]-=7);F.translate(m.offset[0],m.offset[1]),J()});const N=document.createElement("textarea");document.body.appendChild(N);N.addEventListener("click",s=>{s.preventDefault()});N.addEventListener("input",s=>{if(s instanceof InputEvent&&s.data===null){N.blur();return}const t=m.selectedElementId;m.buffer[t].type==="text"&&(m.buffer[t].content=N.value,J())});let rt=[255,255,255];const Et=document.querySelector("#color-picker");Et==null||Et.addEventListener("click",()=>{_e({initialColor:rt,position:{x:10,y:10},onColorChange:s=>{rt=s}})});const Ge=(s,t)=>{const n={id:m.buffer.length,style:{strokeColor:`rgb(${rt[0]},${rt[1]},${rt[2]})`,lineWidth:3}};switch(N.value="",m.selectedElementId=n.id,s){case"freehand":return{...n,type:s,points:[t]};case"text":return N.style.position="fixed",N.style.top=`${t[1]+m.offset[1]}px`,N.style.left=`${t[0]+m.offset[0]}px`,N.style.zIndex="-10",N.focus(),{...n,type:s,font:"50px sans-serif",position:t,content:""};case"line":return{...n,type:s,bounds:{anchor:t,extent:t}};case"rectangle":case"ellipse":return{...n,type:s,bounds:{anchor:t,extent:[0,0]}}}};T.addEventListener("mousedown",s=>{s.preventDefault(),m.isDrawing=!0;const t=ae(s),n=Ge(m.selectedTool,t);m.buffer.push(n),J()});const qe=s=>{switch(m.buffer[m.buffer.length-1].type){case"freehand":m.buffer[m.buffer.length-1].points.push(s);break;case"ellipse":{const t=m.buffer[m.buffer.length-1],n=[(s[0]-t.bounds.anchor[0])*2,(s[1]-t.bounds.anchor[1])*2];t.bounds.extent=n;break}case"rectangle":{const t=m.buffer[m.buffer.length-1],n=[s[0]-t.bounds.anchor[0],s[1]-t.bounds.anchor[1]];t.bounds.extent=n;break}case"line":m.buffer[m.buffer.length-1].bounds.extent=s;break}};T.addEventListener("mousemove",s=>{if(m.isDrawing){const t=ae(s);qe(t),J()}});T.addEventListener("mouseup",()=>{m.isDrawing=!1});
